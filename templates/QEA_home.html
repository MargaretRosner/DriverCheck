<!DOCTYPE html>
<html>
<title>QEA: DriverCheck</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}
body, html {
    height: 100%;
    line-height: 1.8;
}
/* Full height image header */
.bgimg-1 {
    background-position: center;
    background-size: cover;
    background-image: url("{{ url_for('static', filename='car_road2.jpg') }}");
    min-height: 100%;
}
.w3-bar .w3-button {
    padding: 16px;
}
</style>
<body>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-white w3-card-2" id="myNavbar">
    <!-- Right-sided navbar links -->
    <div class="w3-right w3-hide-small">
      <a href="#about" class="w3-bar-item w3-button">PROJECT</a>
      <a href="#team" class="w3-bar-item w3-button"><i class="fa fa-user"></i> TEAM</a>
      <a href="#work" class="w3-bar-item w3-button"><i class="fa fa-th"></i> LINKS</a>
    </div>
    <!-- Hide right-floated links on small screens and replace them with a menu icon -->
  </div>
</div>


<!-- Header with full-height image -->
<header class="bgimg-1 w3-display-container w3-grayscale-min" id="home">
  <div class="w3-display-left w3-text-white" style="padding:48px">
    <span class="w3-jumbo w3-hide-small">Check Your Driving</span><br>
    <span class="w3-xxlarge w3-hide-large w3-hide-medium">Check your Driving</span><br>
    <span class="w3-large">Quantitatively and objectively assessing comfort of driving</span>
    <p><a href="#about" class="w3-button w3-white w3-padding-large w3-large w3-margin-top w3-opacity w3-hover-opacity-off">Learn more today</a></p>
  </div>
</header>

<!-- About Section -->
<div class="w3-container" style="padding:128px 16px" id="about">
  <h3 class="w3-center" style="font-size:30px">THE PROJECT</h3>
  <p class="w3-center w3-large" style="font-size:25px">DESCRIPTION</p>
  <div class="w3-row-padding w3-center" style="margin-top:10px">
    <p style="font-size:15px">As part of a project for our Quantitative Engineering Analysis class at Olin College we created a proof of concept model
      for an app that would enable car drivers to quantitatively asses the comfort of their driving based on the magnitude of acceleration and jerk
      (quick changes in acceleration) measured on their smartphones while driving.



    </p>
  </div>
  <p class="w3-center w3-large"  style="font-size:25px">USERS</p>
  <div class="w3-row-padding w3-center" style="margin-top:10px">
    <p  style="font-size:15px">AAny individual looking to better understand driving style.
      We envision our app being used by a diverse audience which could include: new drivers, parents, and driving instructors.


  </p>
  </div>
  <p class="w3-center w3-large"  style="font-size:25px">Our MVP</p>
  <div class="w3-row-padding w3-center" style="margin-top:10px">
    <p  style="font-size:15px">Our MVP analyzes two different aspects of driving, aggressiveness and jerk, based on accelerometer and gyroscope data collected using a
       user's phone. The data is then analyzed for comfort based on acceleration and jerk magnitude. To present the data in a useful and compelling manner we then
       visualize the analysis so drivers can easily understand and compare their driving styles.


    </p>
  </div>
</div>

<!-- Promo Section - "We know design" -->
<div class="w3-container w3-light-grey" style="padding:128px 16px">
  <div class="w3-row-padding">
    <div class="w3-col m6">
      <h3>Sensor Selection</h3>
      <p  style="font-size:15px">
      We choose to leverage the sensors already present in a user's phone to
      create our application. We used the PowerSense iphone app to collect the data needed to create our app.
      See Figure 1. for a visualization of the type of data collected.




    </p>
    </div>
    <div class="w3-col m6">
    <figure>
      <img src="{{ url_for('static', filename='Headings.png') }}" id = "g2" style="width:600px;height:400px;">
      <figcaption>Fig.1 - Sensor data of phone position in three axis after driving in an ellipse.</figcaption>
    </figure>
    </div>
  </div>
  <div class="w3-row-padding">
    <div class="w3-col m6">
      <h3>Proof of Concept</h3>
      <p  style="font-size:15px">
        Using acceleration and gyro data collected from a user's smartphone we first rotated the accelerations measured by the phone into the global frame to remove gravity
        and filtered the data using a low pass filter to remove high frequencies. Once the data was in the global reference frame we took the derivative of
         the accelerations to isolate jerk (sudden changes in acceleration).

      </p>
    </div>
    <div class="w3-col m6">
      <figure>
        <img src="{{ url_for('static', filename='GlobalAcc.png') }}" id = "g1" style="width:600px;height:400px;">
        <figcaption>Fig.2 - Of a car driving in an ellipse </figcaption>
      </figure>
    </div>
    <div class="w3-col m6">
      <h3>Comfort Analysis</h3>
      <p tyle="font-size:15px">
        We  choose to define driver comfort as the combination of jerk and maximum acceleration. To analyze driving comfort





      </p>
    </div>
    <div class="w3-col m6">
      <figure>
        <img src="{{ url_for('static', filename='ComfortGraph.png') }}" id = "g1" style="width:600px;height:400px;">
        <figcaption>Fig.3 - Graph depicting the magnitude of the acceleration with different controlled driving styles.</figcaption>
      </figure>
      <figure>
        <img src="{{ url_for('static', filename='BarGraph.png') }}" id = "g1" style="width:600px;height:400px;">
        <figcaption>Fig.4 - Comfort was assesed as the scaled integrals in the global frame </figcaption>
      </figure>
    </div>
  </div>
  <br>
  <div class="w3-row-padding">
    <div class="w3-col m6">
      <h3>Validation</h3>
      <p  style="font-size:15px">To validate our model the first thing we did was check to ensure our rotation matrix was
        doing what we expected. We did so by creating a unit vector, [0 0 1], in the khat direction and rotating it into the
        global frame using the attitude data collected from the phone. We also videotaped a driver driving when we collected our
        driving data for comfort analysis and compared the videos (<a href="https://photos.app.goo.gl/Vtfh95rC0pEnNO1F2">slow and smooth</a>,
        <a href="https://photos.app.goo.gl/zLG6k5iWadigup3u2">slow and jerky</a>,
        <a href="https://photos.app.goo.gl/m1AeTD3aG28OY4kF3"> aggressive and smooth</a>,
        <a href="https://photos.app.goo.gl/cxgtVSfsLYTcjtik2https://photos.app.goo.gl/cxgtVSfsLYTcjtik2"> aggressive and jerky</a>) to the graphs we
        produced from the data to qualitatively assess their accuracy.



      </p>
    </div>
      <div class="w3-col m6">
        <figure>
          <img src="{{ url_for('static', filename='Ihats.png') }}" id = "g3" style="width:600px;height:400px;">
          <figcaption>Fig.5 - Validation of our rotation matrix using unit vector Ihat in the khat direction. </figcaption>
        </figure>
      </div>
    </div>
    <div class="w3-row-padding">
      <div class="w3-col m6">
        <h3>Dead Ends</h3>
        <p  style="font-size:15px">
          One of our initial goals was to determine a way to assess not only the comfort of someone's driving but also the safety of their driving through
          analyzing the magnitude of jerk. We were unable to incorporate this aspect of analysis into our final product because we did not have enough time
          to determine the best way to filter the data without also filtering out the jerk.
          <br>
          <br>
          Initially we also wanted to use the acceleration measured on the phone to determine the position of the driver in the global frame. After working
          on this challenge for some time we determined that mapping accelerations in the phone’s frame to the global frame was not going to be as accurate
          as we had hoped due to drifting data. See Figures 5 and 6 for a visual representation of the data drifting in the khat direction.
          <br>
          <br>
          In addition to using rotating reference frames in our project we also analyzed the frequency of the acceleration. While, this analysis did
          not provide us with any insightful information about driving style it was interesting to have completed.




        </p>
      </div>
        <div class="w3-col m6">
          <figure>
            <img src="{{ url_for('static', filename='velocity_globalF.jpg') }}" id = "g3" style="width:600px;height:400px;">
            <figcaption>Fig.6 - Velocity plotted in the global fram calculated from the acceleration data collected. </figcaption>
          </figure>
          <figure>
            <img src="{{ url_for('static', filename='velocity_globalF_drift.jpg') }}" id = "g3" style="width:600px;height:400px;">
            <figcaption>Fig.7 - The drift of velocity plotted in the global fram calculated from the acceleration data collected. </figcaption>
          </figure>
        </div>
      </div>
  </div>
</div>

<!-- Next Steps -->
<div class="w3-container" style="padding:128px 16px" id="about">
  <h3 class="w3-center"  style="font-size:30px">NEXT STEPS</h3>
  <div class="w3-row-padding w3-center" style="margin-top:10px">
    <p style="font-size:15px">

      One of our initial outcomes was to determine the safety of someone’s driving through analyzing the data collected on the phone. We were unable to do so for this pass
      because we did not have the time to determine the best way to classify someone’s driving as either safe or unsafe. Our current model makes it easy to see differences
      in drivers, but we choose to make no objective statement about what makes a driver safe or not because the scaled integral of the acceleration changes based on how
      fast you drive even if you are driving smoothly..

    </p>
  </div>
</div>

<!-- Links Section -->
<div class="w3-container" style="padding:128px 16px" id="work">
  <h3 class="w3-center" style="font-size:30px">LINKS</h3>
  <p class="w3-center w3-large" style="font-size:25px">The Pitch: QEA 10/23/2017</p>
  <p class="w3-center w3-large">
  <a href="https://docs.google.com/presentation/d/15uuBpJbfVPo0_WVuwS9a6kxYaQT1qdnZ40NcJw1B5k4/edit?usp=sharing"> View our Presentation!</a>
  </p>
  <p class="w3-center w3-large" style="font-size:25px">Matlab Scripts</p>
  <p class="w3-center w3-large">
  <a href="https://drive.google.com/open?id=0B1Q9ZaUOL0C2Y1h3MmpRcUl6UlU">Loading and filtering data</a>
  </p>
  <p class="w3-center w3-large">
  <a href="https://drive.google.com/file/d/0B1Q9ZaUOL0C2cGJyTmhMZ3NFd00/view?usp=sharing">Analysis</a>
  </p>
  <p class="w3-center w3-large">
  <a href="url">Matlab Notebook PDF</a>
  </p>


</div>

<!-- Team Section -->
<div class="w3-container" style="padding:128px 16px" id="team">
  <h3 class="w3-center"  style="font-size:30px">THE CLASS</h3>
  <div class="w3-row-padding w3-center" style="margin-top:10px">
    <p  style="font-size:15px">"The QEA experiment is a designated alternative for Signals and Systems, Dynamics, Linearity 1 and 2 and a foundational physics course;
    our hope is this experiment will lead to a more coherent ‘analysis stream’ down the road” - Mark Somerville.</p>
  </div>
  <h3 class="w3-center"  style="font-size:30px">THE TEAM</h3>
  <p class="w3-center w3-large">Maggie Rosner and Colvin Chapman</p>
</div>


<!-- Footer -->
<footer class="w3-center w3-black w3-padding-64">
  <a href="#home" class="w3-button w3-light-grey"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
</footer>

</body>
</html>
